<!DOCTYPE html>
<html>
    <head>
        <body>
            <form>
                <label> USERNAME <input type=" text" id = "username">  </label> 
                <label> password <input type=" password" id="password" ></label > 
                <button type=" button" onclick="provalogin()"> login</button>


            </form>
            <h1>lista prodotti </h1>
            <ul id =" prodotti">

            </ul>
            <script type="module">
             const Response =  await  fetch("http://localhost:8080/esercizioApi/Api");
             const products =  await Response.json();
             console.log(products)
             console.log(products);
             products.products.forEach(products => {
                const elemento =document.childElement("li");
                document.getElementById("prodotti").appendChild(elemento);
                elemento.innerText = products;                 
             });
            async  function provalogin(){
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;
                const requestObjet = {"username": username , "password" : password}
                const loginrespons =  await  fetch("http://localhost:8080/esercizioApi/login" ,{ 
                metod :"POST",
                body:JSON.stringify(requestObjet)
                

             })
            }
            </script>   
        </body>
    </head>
</html>