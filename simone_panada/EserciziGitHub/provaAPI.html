<!DOCTYPE html>
<html>
    <head>
        
    </head>
    <body>
        <form>
            <label>username: <input type="text" id="username"></label>
            <label>passowrd: <input type="password" id="password"></label>
            <button type="button" onclick="tryLogin()">Login</button>
        </form>
        <h1>lista Prodotti</h1>
        <ul id="prodotti"></ul>
    <script type="module">
       const response = await fetch("htpp://localhost:8080/EsercizioAPI/api");
       const prodotti = await response.json();
       console.log(products);
       products.forEach(product => {
        const elemento = document.createElement("li");
        document.getElementById("prodotti").appendChild(elemento);
        elemento.innerText = product
       });

      async function tryLogin() 
       {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const requestObject = {"username":username, "password":password};
        const loginResponse = await fetch("htpp://localhost:8080/EsercizioAPI/login",{
            method:"POST",
            body:JSON.stringify(requestObject)
            if (await loginResponse.json() = true){
                console.log("nome utente e psw corretti");
            }else{
                console.log("nome utente e psw sbagiati");
            }
        });
       }
    </script>
    </body>
</html>